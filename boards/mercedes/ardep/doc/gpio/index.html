
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>GPIO &#8212; ARDEP  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/css/custom.css" />
    <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../_static/copybutton.js"></script>
    <script src="../../../../../_static/tabs.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Heartbeat LED" href="../heartbeat_led/index.html" />
    <link rel="prev" title="Gearshift" href="../gearshift/index.html" />
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="gpio">
<span id="board-gpio"></span><h1>GPIO<a class="headerlink" href="#gpio" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#i-o-pinout" id="id8">I/O Pinout</a></p></li>
<li><p><a class="reference internal" href="#arduino-header" id="id9">Arduino Header</a></p></li>
<li><p><a class="reference internal" href="#pin-header" id="id10">32-Pin Header</a></p></li>
<li><p><a class="reference internal" href="#i-o-protection" id="id11">I/O protection</a></p></li>
<li><p><a class="reference internal" href="#uart" id="id12">UART</a></p></li>
<li><p><a class="reference internal" href="#analog-i-o" id="id13">Analog I/O</a></p></li>
</ul>
</nav>
<p>The mainboard IOs are 3.3 V or 5V tolerant.
the 5V tolerant IOs show an extra “x“ as an indicator on the PCB silkscreen.</p>
<section id="i-o-pinout">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">I/O Pinout</a><a class="headerlink" href="#i-o-pinout" title="Permalink to this heading">¶</a></h2>
<p>The GPIOs can be accessed via an Arduino-compatible pin header arrangement and an additional (non-Arduino-compatible) 32-pin header.</p>
</section>
<section id="arduino-header">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Arduino Header</a><a class="headerlink" href="#arduino-header" title="Permalink to this heading">¶</a></h2>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../../../../../_images/arduino_pinout_rev0_2_0.png"><img alt="../../../../../_images/arduino_pinout_rev0_2_0.png" src="../../../../../_images/arduino_pinout_rev0_2_0.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Arduino Pinout starting from rev 0.2</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../../../../../_images/arduino_pinout_rev0_1_0.jpg"><img alt="../../../../../_images/arduino_pinout_rev0_1_0.jpg" src="../../../../../_images/arduino_pinout_rev0_1_0.jpg" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Arduino Pinout up to rev 0.1</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="pin-header">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">32-Pin Header</a><a class="headerlink" href="#pin-header" title="Permalink to this heading">¶</a></h2>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../../../../../_images/32pin_header_rev0_2_0.png"><img alt="../../../../../_images/32pin_header_rev0_2_0.png" src="../../../../../_images/32pin_header_rev0_2_0.png" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-text">32-Pin connector starting from rev 0.2</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<a class="reference internal image-reference" href="../../../../../_images/32pin_header_rev0_1_0.png"><img alt="../../../../../_images/32pin_header_rev0_1_0.png" src="../../../../../_images/32pin_header_rev0_1_0.png" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-text">32-Pin connector up to rev 0.1</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="i-o-protection">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">I/O protection</a><a class="headerlink" href="#i-o-protection" title="Permalink to this heading">¶</a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Ardep v2.0.0 and later</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Ardep v1.0.0</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><p>ARDEP rev1 relied on a combination of snapback diodes and polyfuses as input protection.
Due to the poor availability of the snapback diodes and the lack of differentiation between 3.3V and 5V GPIOs, a new approach based on actively clamped protection rails was implemented from ARDEP 2.0 onwards.</p>
<p>All ARDEP GPIOs are equipped with the same polyfuses as revision 1 and an ESD clamping diode.</p>
<figure class="align-default" id="id5">
<a class="reference internal image-reference" href="../../../../../_images/input_protection_circuit_rev2_0_0.png"><img alt="../../../../../_images/input_protection_circuit_rev2_0_0.png" src="../../../../../_images/input_protection_circuit_rev2_0_0.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Fundamental input protection circuit (for 5V GPIOs)</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Instead of clamping an overvoltage to the LDO-regulated 3.3V or 5V rail of the ARDEP mainboard, a separate rail with TLA431 shunt references set to the respective voltage is used.
In contrast to the main 3.3V and 5V supply rails, these protection rails can sink a constant current of 100mA and are therefore suitable for suppressing continuous overvoltage at the board’s GPIOs.</p>
<figure class="align-default" id="id6">
<a class="reference internal image-reference" href="../../../../../_images/protection_rails_clamp_circuit_rev2_0_0.png"><img alt="../../../../../_images/protection_rails_clamp_circuit_rev2_0_0.png" src="../../../../../_images/protection_rails_clamp_circuit_rev2_0_0.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Protection rails clamp circuit</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>D18 and D19 are placed to prevent cross currents and to ensure a stable supply voltage of the ARDEP mainboard, while still supplying the shunt references with their standby quiescent current.</p>
<p>This also results in the clamp rails being slightly below the supply voltages.
This can cause a reduced reverse bias of the ESD diodes at a full swing input and therefore slightly increased capacitive loading of the applied signal.</p>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><p>All GPIOs are Protected from ESD and a catastrophic High Voltage event.</p>
<p>Every IO is equipped with the protection circuit illustrated in the figure below.
It consists of a self-resettable 20mA poly fuse, a snap-back ESD diode, and an additional series resistor.</p>
<p>The snap-back diode is a special kind of ESD Diode, which triggers, once a certain threshold voltage (in this case ~6V) is reached.
It then proceeds to clamp the input voltage to a rather low level of ~1.2V.
This is crucial in case of a continuous overvoltage event (e.g. accidental connection of 12V or 24V).
The low clamping voltage limits the dissipated power within the ESD diode which protects the diode and leads to a faster triggering of the polyfuse.</p>
<p>In case of a continuous overvoltage of below ~8V at the connector, it cannot be guaranteed, that the snapback diode triggers.
Even though it will start to clamp the voltage, an out-of-spec overvoltage may occur at the µC IO Pin and the IC’s internal ESD Protection will engage.
To mitigate potential damage to the µC the 39 Ohm series resistor will limit the current into the µC’s ESD protection circuit.</p>
<p>This rather robust protection circuit results in a GPIO output resistance of up to 109 Ohm.
This will be the main bandwidth limiting factor of the digital IOs and could be adjusted in a tradeoff between IO-speed and IO-robustness.</p>
<figure class="align-default" id="id7">
<a class="reference internal image-reference" href="../../../../../_images/gpio_protective_structure.png"><img alt="../../../../../_images/gpio_protective_structure.png" src="../../../../../_images/gpio_protective_structure.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">TODO CAPTION</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div></div>
</section>
<section id="uart">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">UART</a><a class="headerlink" href="#uart" title="Permalink to this heading">¶</a></h2>
<p>The two UART channels are treated like all the other GPIOs.
They are routed to a separate spring contact terminal which can therefore be used for UART, or four general-purpose IOs.</p>
</section>
<section id="analog-i-o">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Analog I/O</a><a class="headerlink" href="#analog-i-o" title="Permalink to this heading">¶</a></h2>
<p>Analog IOs are not separately treated on the mainboard.
Instead, all µC GPIOs with analog functions can be software-defined and used accordingly.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../index.html">ARDEP</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../bootloader/index.html">Bootloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../firmware_loader/index.html">UDS Firmware Loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../console/index.html">Console Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../error_handling/index.html">Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../README.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../lib/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../scripts/ardep.html">ARDEP Command</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">ARDEP Board</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../can_and_lin/index.html">CAN and LIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gearshift/index.html">Gearshift</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../heartbeat_led/index.html">Heartbeat LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="../on_board_debugger/index.html">On-Board Debugger (OBD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../power_scheme/index.html">Power Scheme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ardep-v2-0-0">Ardep v2.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ardep-v1-0-0">Ardep v1.0.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../shields/hv_shield/doc/index.html">ARDEP HV Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../shields/power_io_shield/doc/index.html">ARDEP Power IO Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../samples/index.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../debugging/index.html">Debugging</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">ARDEP Board</a><ul>
      <li>Previous: <a href="../gearshift/index.html" title="previous chapter">Gearshift</a></li>
      <li>Next: <a href="../heartbeat_led/index.html" title="next chapter">Heartbeat LED</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Frickly Systems GmbH.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../../../../_sources/boards/mercedes/ardep/doc/gpio/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>